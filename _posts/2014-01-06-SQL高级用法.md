---
layout: post
title: "SQL高级用法"
date: 2014-01-06 14:03:21
categories: DB 实战
tags: MySQL SQL 实战
updateTime: 2020-04-23
---

* content
{:toc}

## SQL高级用法

MySQL 常用语句积累，提升性能

## 连表查询

###  1. 常用连表查询

- 左连接 （left join)
- 右连接  (right join)
- 内连接 (join/inner join)

### 2. 小表与大表连接

场景：基础表连接关系表 ...

- [建议小表连接大表](https://www.cnblogs.com/developer_chan/p/9247185.html)

- in后面跟的是小表，exists后面跟的是大表。

  - ①当B表的数据集小于A表数据集时，用in优于exists。 (B表为tb_dept_bigdata：100条数据，A表tb_emp_bigdata：5000条数据。)

  ```sql
  select * from tb_emp_bigdata A where A.deptno in (select B.deptno from tb_dept_bigdata B)
  ```

  - ②当A表的数据集小于B表的数据集时，用exists优于in。
### 3. 多字段排序问题

场景：按照某一状态和时间降序排列

```sql
-- 错误：
select xx from table_name order by status,time desc;

-- 正解：
select xx from table_name order by status desc,time desc;
```



```mysql
	"构建思维能力，让烦恼变成真正有效的思考"  。
```