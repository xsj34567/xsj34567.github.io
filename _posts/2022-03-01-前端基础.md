---
3layout: post
title: "前端总结"
date: 2022-04-01
categories: aTodoList
tags: 前端
updateTime: 2022-03-11
---

* content
{:toc}
## 前端基础

[自己项目](https://gitee.com/xushj/vuelearn)

[开源Ruoyi：https://gitee.com/y_project/RuoYi-Vue](https://gitee.com/y_project/RuoYi-Vue)

### 1. 基础用法

#### 1.1 变量 

> data 中定义 data(){}

```javascript
//sessionStorage 用法
//赋值(保存的是字符串)
sessionStorage.shiftOptios = JSON.stringify(this.shiftOptios);

//如果只是单页面使用，离开时需要销毁
//同methods同级别
beforeDestroy() {
    sessionStorage.shiftHourOptios = null;
    sessionStorage.shiftOptios = null;
},
    
//跨页面使用sessionStorage对象时（初始化时执行，类似data）
computed: {
    shiftHourOptios() {
      return JSON.parse(sessionStorage.shiftHourOptios);
    },
    shiftOptios() {
      return JSON.parse(sessionStorage.shiftOptios);
    },
},
```



#### 1.2 方法

> methods 中定义 test(){}

> 方法间相互调用  test1(){this.test()}

```javascript
//自定义组件方法，为组件赋值，
//直接使用 this.items = response.data.detailList; 不能成功，需要点击两次，才能赋值成功

//先需要初始化
this.items = new Array(response.data.detailList.length);
//表示强制执行该方法绑定数据
this.$nextTick(() => {
    this.items = response.data.detailList;
});

```



#### 1.3 基础判断

> if(...?)

```javascript
var checkDetail = true;
//校验排班明细列表不为空
if (this.items?.length) {
    //遍历
    this.items.find((val) => {
        if (val.sequence === null) {
            checkDetail = false;
        } 
        ....
    });
}
if (!checkDetail) {
    this.$refs.tip.textContent = '顺序号/班次/班时不能为空';
} else {
    ...
}
```



#### 1.4 赋值

```javascript
// 浅复制（指向原来对象）  params.isOpen =1 , 那么 this.form.isOpen 也是为1；
const params = this.form; 
//表单相关数据，全部赋值给params（深复制）
const params = {
	...this.form,
};
//处理明细
Object.assign(params, {
	detailList: this.items,
});
```



#### 1.5 循环

```javascript
this.items.find((val) => {
    console.log(val);
    if (val.sequence === null) {
        checkDetail = false;
    } 
    ....
});
```

#### 1.6 校验

```vue
<a-input placeholder="标题" maxLength="100" v-decorator="['title', {rules: [
                                                   {required: true, message: '请输入标题'},
                                                    {validator: this.titleTest}
  ]}]"/>
```

```javascript
methods: {
    titleTest (rule, value, callback) {
      // const title= /^[\u0391-\uFFE5A-Za-z]+$/
      const title= /^[\a-\z\A-\Z0-9\u4e00-\u9fe5]\_+$/
      if (!title.test(value)) {
        callback(new Error('标题只能输入中文、下划线、数字和英文'))
      }else{
        callback()
      }
    },
}
```



[校验](https://www.cnblogs.com/yuejucai/p/15655017.html)

#### 1.9 事件与回调区分

```vue
<!--事件、回调区分 -->
<el-button type="button" onSave="click" onConfirm="confirm"></el-button>

// 弹框保存事件之后，关闭弹框后，触发的事件。
this.$emit('confirm');

```

``` javascript
//生命周期事件：
 destroyed() {},// 销毁时操作可编辑在此处,例如：A组件跳转B组件，此时A组件会被销毁，则会调用
 activated() {
     //每次进入页面时执行
 },
```



### 2. 组件

### 2.1 公共组件

-  [elm组件](https://element.eleme.cn/#/zh-CN/component/installation)

#### 2.2 自定义组件

- 批量添加周期元素
  - 
- 上传组件









### 参考

[elm组件](https://element.eleme.cn/#/zh-CN/component/installation)

[校验](https://www.cnblogs.com/yuejucai/p/15655017.html)